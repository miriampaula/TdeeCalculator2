<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href=/static/css/style.css>  </head>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
</head>
<center>
<body> <br><br>
    <h1>TDEE Calculator</h1>
  <form>
    <label for="weight">Weight (kg):</label>
    <input type="number" id="weight" name="weight"><br><br>
    <label for="height">Height (cm):</label>
    <input type="number" id="height" name="height"><br><br>
    <label for="age">Age:</label>
    <input type="number" id="age" name="age"><br><br>
    <label for="activityLevel">Activity Level:</label>
    <select id="activityLevel" name="activityLevel">
      <option value="1.2">Sedentary (little or no exercise)</option>
      <option value="1.375">Lightly active (light exercise or sports 1-3 days a week)</option>
      <option value="1.55">Moderately active (moderate exercise or sports 3-5 days a week)</option>
      <option value="1.725">Very active (hard exercise or sports 6-7 days a week)</option>
      <option value="1.9">Extra active (very hard exercise or sports & physical job or training 2 times per day)</option>
    </select><br><br>
    <label for="gender">Gender:</label>
    <select id="gender" name="gender">
      <option value="1">Male</option>
      <option value="0">Female</option>
    </select><br><br>
    <button onclick="calculateTDEE()">Calculate TDEE</button>
  </form>
  <br><br><br>
  <p id="result"></p>
  <form id="myf" class="cal" action="/result" method="POST">
      <label for = 'wanted_cal'>Enter your desired number of calories/day: </label>
      <input type="text" name="wanted_cal" id="wanted_cal"> <br><br>
      <center><input type="submit" value="Find meals" class = "file_submit"></center>
  </form><br><br><br>
  <center> 
      {% if res %} 
      <h3 style = " color: rgb(0, 0, 0);"><pre>{{ res }}</pre> </h3>

      {% endif %}
  </center>
  
  <script>
    function alfarePlan() {
      var cal = document.getElementById("wanted_cal").value;
      event.preventDefault();
      
    }
    function calculateTDEE() {
      var weight = document.getElementById("weight").value;
      var height = document.getElementById("height").value;
      var age = document.getElementById("age").value;
      var activityLevel = document.getElementById("activityLevel").value;
      var gender = document.getElementById("gender").value;
      
      if(gender == 1){
        var BMR = 10 * weight + 6.25 * height - 5 * age + 5;
      }else{
        var BMR = 10 * weight + 6.25 * height - 5 * age - 161;
      }
      
      var TDEE = BMR * activityLevel;
      
      document.getElementById("result").innerHTML = "Your TDEE is: " + TDEE + " calories per day.";
      event.preventDefault();
    }
  </script>
</body>
</center>

</html>
